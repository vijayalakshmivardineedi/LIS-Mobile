{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axiosInstance from '../../../../Security/helpers/axios';\nexport const fetchCheckOut = createAsyncThunk(\"checkOut/fetchCheckOut\", async (payload, {\n  rejectWithValue\n}) => {\n  try {\n    const {\n      societyId,\n      id,\n      visitorType\n    } = payload;\n    console.log(societyId, id, visitorType);\n    let response;\n    const endpoint = visitorType === \"Guest\" ? \"checkoutVisitor\" : \"checkOutStaff\";\n    if (visitorType === \"Guest\") {\n      response = await axiosInstance.put(`/${endpoint}`, {\n        societyId,\n        visitorId: id\n      });\n    } else {\n      console.log(\"hi\");\n      response = await axiosInstance.put(`/${endpoint}`, {\n        societyId,\n        userId: id\n      });\n    }\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response ? error.response.data : error.message);\n  }\n});\nconst checkOutSlice = createSlice({\n  name: \"checkOut\",\n  initialState: {\n    checkOut: [],\n    status: \"idle\",\n    error: null,\n    successMessage: null\n  },\n  reducers: {\n    resetState: state => {\n      state.loading = false;\n      state.error = null;\n      state.success = false;\n      state.successMessage = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchCheckOut.pending, state => {\n      state.status = \"loading\";\n    }).addCase(fetchCheckOut.fulfilled, (state, action) => {\n      state.status = \"succeeded\";\n      state.checkOut = action.payload.userProfiles;\n      state.successMessage = action.payload.message;\n    }).addCase(fetchCheckOut.rejected, (state, action) => {\n      state.status = \"failed\";\n      state.error = action.payload.message;\n    });\n  }\n});\nexport const {\n  resetState\n} = checkOutSlice.actions;\nexport default checkOutSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axiosInstance","fetchCheckOut","payload","rejectWithValue","societyId","id","visitorType","console","log","response","endpoint","put","visitorId","userId","data","error","message","checkOutSlice","name","initialState","checkOut","status","successMessage","reducers","resetState","state","loading","success","extraReducers","builder","addCase","pending","fulfilled","action","userProfiles","rejected","actions","reducer"],"sources":["C:/Users/user/OneDrive/Documents/rn/l/src/panel/User/Redux/Slice/Security_Panel/CheckOutSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axiosInstance from '../../../../Security/helpers/axios';\r\n\r\nexport const fetchCheckOut = createAsyncThunk(\r\n  \"checkOut/fetchCheckOut\",\r\n  async (payload, {rejectWithValue }) => {\r\n    try {\r\n      const { societyId, id, visitorType } = payload;\r\n      console.log(societyId, id, visitorType)\r\n      let response;\r\n      const endpoint = visitorType === \"Guest\" ? \"checkoutVisitor\" : \"checkOutStaff\";\r\n      if (visitorType === \"Guest\") {\r\n        response = await axiosInstance.put(`/${endpoint}`, {\r\n          societyId,\r\n          visitorId : id,\r\n        });\r\n      } else {\r\n        console.log(\"hi\");\r\n        response = await axiosInstance.put(`/${endpoint}`, {\r\n          societyId,\r\n          userId: id,\r\n        });\r\n      }\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response ? error.response.data : error.message);\r\n    }\r\n  }\r\n);\r\n\r\n\r\nconst checkOutSlice = createSlice({\r\n  name: \"checkOut\",\r\n  initialState: {\r\n    checkOut: [],\r\n    status: \"idle\",\r\n    error: null,\r\n    successMessage: null,\r\n\r\n  },\r\n  reducers: {\r\n    resetState: (state) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n      state.success = false;\r\n      state.successMessage = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchCheckOut.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(fetchCheckOut.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.checkOut = action.payload.userProfiles;\r\n        state.successMessage = action.payload.message;\r\n      })\r\n      .addCase(fetchCheckOut.rejected, (state, action) => {\r\n        state.status = \"failed\";\r\n        state.error = action.payload.message;\r\n      });\r\n  },\r\n});\r\nexport const { resetState } = checkOutSlice.actions;\r\nexport default checkOutSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,aAAa,MAAM,oCAAoC;AAE9D,OAAO,MAAMC,aAAa,GAAGF,gBAAgB,CAC3C,wBAAwB,EACxB,OAAOG,OAAO,EAAE;EAACC;AAAgB,CAAC,KAAK;EACrC,IAAI;IACF,MAAM;MAAEC,SAAS;MAAEC,EAAE;MAAEC;IAAY,CAAC,GAAGJ,OAAO;IAC9CK,OAAO,CAACC,GAAG,CAACJ,SAAS,EAAEC,EAAE,EAAEC,WAAW,CAAC;IACvC,IAAIG,QAAQ;IACZ,MAAMC,QAAQ,GAAGJ,WAAW,KAAK,OAAO,GAAG,iBAAiB,GAAG,eAAe;IAC9E,IAAIA,WAAW,KAAK,OAAO,EAAE;MAC3BG,QAAQ,GAAG,MAAMT,aAAa,CAACW,GAAG,CAAC,IAAID,QAAQ,EAAE,EAAE;QACjDN,SAAS;QACTQ,SAAS,EAAGP;MACd,CAAC,CAAC;IACJ,CAAC,MAAM;MACLE,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;MACjBC,QAAQ,GAAG,MAAMT,aAAa,CAACW,GAAG,CAAC,IAAID,QAAQ,EAAE,EAAE;QACjDN,SAAS;QACTS,MAAM,EAAER;MACV,CAAC,CAAC;IACJ;IACA,OAAOI,QAAQ,CAACK,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOZ,eAAe,CAACY,KAAK,CAACN,QAAQ,GAAGM,KAAK,CAACN,QAAQ,CAACK,IAAI,GAAGC,KAAK,CAACC,OAAO,CAAC;EAC9E;AACF,CACF,CAAC;AAGD,MAAMC,aAAa,GAAGnB,WAAW,CAAC;EAChCoB,IAAI,EAAE,UAAU;EAChBC,YAAY,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,MAAM;IACdN,KAAK,EAAE,IAAI;IACXO,cAAc,EAAE;EAElB,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAU,EAAGC,KAAK,IAAK;MACrBA,KAAK,CAACC,OAAO,GAAG,KAAK;MACrBD,KAAK,CAACV,KAAK,GAAG,IAAI;MAClBU,KAAK,CAACE,OAAO,GAAG,KAAK;MACrBF,KAAK,CAACH,cAAc,GAAG,IAAI;IAC7B;EACF,CAAC;EACDM,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAAC7B,aAAa,CAAC8B,OAAO,EAAGN,KAAK,IAAK;MACzCA,KAAK,CAACJ,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDS,OAAO,CAAC7B,aAAa,CAAC+B,SAAS,EAAE,CAACP,KAAK,EAAEQ,MAAM,KAAK;MACnDR,KAAK,CAACJ,MAAM,GAAG,WAAW;MAC1BI,KAAK,CAACL,QAAQ,GAAGa,MAAM,CAAC/B,OAAO,CAACgC,YAAY;MAC5CT,KAAK,CAACH,cAAc,GAAGW,MAAM,CAAC/B,OAAO,CAACc,OAAO;IAC/C,CAAC,CAAC,CACDc,OAAO,CAAC7B,aAAa,CAACkC,QAAQ,EAAE,CAACV,KAAK,EAAEQ,MAAM,KAAK;MAClDR,KAAK,CAACJ,MAAM,GAAG,QAAQ;MACvBI,KAAK,CAACV,KAAK,GAAGkB,MAAM,CAAC/B,OAAO,CAACc,OAAO;IACtC,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AACF,OAAO,MAAM;EAAEQ;AAAW,CAAC,GAAGP,aAAa,CAACmB,OAAO;AACnD,eAAenB,aAAa,CAACoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}