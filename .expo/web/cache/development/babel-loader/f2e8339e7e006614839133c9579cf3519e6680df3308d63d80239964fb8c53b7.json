{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  preApprovals: [],\n  status: 'idle',\n  error: null\n};\nexport const fetchPreApprovals = createAsyncThunk('preApprovals/fetchPreApprovals', async ({\n  societyId,\n  block,\n  flatNo\n}, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`http://192.168.29.226:2000/api/getPreApprovedVisitors/${societyId}/${block}/${flatNo}`);\n    return response.data.preApprovedVisitors;\n  } catch (err) {\n    if (err.response && err.response.data && err.response.data.message) {\n      return rejectWithValue(err.response.data.message);\n    } else {\n      return rejectWithValue(err.message);\n    }\n  }\n});\nconst preApprovalSlice = createSlice({\n  name: 'preApprovals',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchPreApprovals.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchPreApprovals.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.preApprovals = action.payload;\n    }).addCase(fetchPreApprovals.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.payload || action.error.message;\n    });\n  }\n});\nexport default preApprovalSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","preApprovals","status","error","fetchPreApprovals","societyId","block","flatNo","rejectWithValue","response","get","data","preApprovedVisitors","err","message","preApprovalSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["C:/Users/user/OneDrive/Documents/rn/l/src/panel/User/Redux/Slice/Home/PreapprovalSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n    preApprovals: [],\r\n    status: 'idle',\r\n    error: null,\r\n};\r\n\r\nexport const fetchPreApprovals = createAsyncThunk(\r\n    'preApprovals/fetchPreApprovals',\r\n    async ({ societyId, block, flatNo }, { rejectWithValue }) => {\r\n        try {\r\n            const response = await axios.get(`http://192.168.29.226:2000/api/getPreApprovedVisitors/${societyId}/${block}/${flatNo}`);\r\n            return response.data.preApprovedVisitors;\r\n        } catch (err) {\r\n            // Check if the error has a response and pass the message\r\n            if (err.response && err.response.data && err.response.data.message) {\r\n                return rejectWithValue(err.response.data.message);\r\n            } else {\r\n                return rejectWithValue(err.message);\r\n            }\r\n        }\r\n    }\r\n);\r\n\r\nconst preApprovalSlice = createSlice({\r\n    name: 'preApprovals',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(fetchPreApprovals.pending, (state) => {\r\n                state.status = 'loading';\r\n            })\r\n            .addCase(fetchPreApprovals.fulfilled, (state, action) => {\r\n                state.status = 'succeeded';\r\n                state.preApprovals = action.payload;\r\n            })\r\n            .addCase(fetchPreApprovals.rejected, (state, action) => {\r\n                state.status = 'failed';\r\n                // Use action.payload for the custom error message\r\n                state.error = action.payload || action.error.message;\r\n            });\r\n    },\r\n});\r\n\r\nexport default preApprovalSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG;EACjBC,YAAY,EAAE,EAAE;EAChBC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE;AACX,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAGN,gBAAgB,CAC7C,gCAAgC,EAChC,OAAO;EAAEO,SAAS;EAAEC,KAAK;EAAEC;AAAO,CAAC,EAAE;EAAEC;AAAgB,CAAC,KAAK;EACzD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,yDAAyDL,SAAS,IAAIC,KAAK,IAAIC,MAAM,EAAE,CAAC;IACzH,OAAOE,QAAQ,CAACE,IAAI,CAACC,mBAAmB;EAC5C,CAAC,CAAC,OAAOC,GAAG,EAAE;IAEV,IAAIA,GAAG,CAACJ,QAAQ,IAAII,GAAG,CAACJ,QAAQ,CAACE,IAAI,IAAIE,GAAG,CAACJ,QAAQ,CAACE,IAAI,CAACG,OAAO,EAAE;MAChE,OAAON,eAAe,CAACK,GAAG,CAACJ,QAAQ,CAACE,IAAI,CAACG,OAAO,CAAC;IACrD,CAAC,MAAM;MACH,OAAON,eAAe,CAACK,GAAG,CAACC,OAAO,CAAC;IACvC;EACJ;AACJ,CACJ,CAAC;AAED,MAAMC,gBAAgB,GAAGlB,WAAW,CAAC;EACjCmB,IAAI,EAAE,cAAc;EACpBhB,YAAY;EACZiB,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAAChB,iBAAiB,CAACiB,OAAO,EAAGC,KAAK,IAAK;MAC3CA,KAAK,CAACpB,MAAM,GAAG,SAAS;IAC5B,CAAC,CAAC,CACDkB,OAAO,CAAChB,iBAAiB,CAACmB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACrDF,KAAK,CAACpB,MAAM,GAAG,WAAW;MAC1BoB,KAAK,CAACrB,YAAY,GAAGuB,MAAM,CAACC,OAAO;IACvC,CAAC,CAAC,CACDL,OAAO,CAAChB,iBAAiB,CAACsB,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MACpDF,KAAK,CAACpB,MAAM,GAAG,QAAQ;MAEvBoB,KAAK,CAACnB,KAAK,GAAGqB,MAAM,CAACC,OAAO,IAAID,MAAM,CAACrB,KAAK,CAACW,OAAO;IACxD,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAeC,gBAAgB,CAACY,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}