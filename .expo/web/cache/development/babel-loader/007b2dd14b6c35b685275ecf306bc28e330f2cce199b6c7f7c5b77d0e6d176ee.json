{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\src\\\\panel\\\\User\\\\Navigations\\\\Screens\\\\Profile\\\\MyDocuments.js\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Card, Button, Text, Avatar, IconButton, List } from \"react-native-paper\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as DocumentPicker from \"expo-document-picker\";\nimport Icon from \"react-native-vector-icons/MaterialIcons\";\nimport { AddDocumentsAsync } from \"../../../Redux/Slice/ProfileSlice/DocumentSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchDocumentsById } from \"../../../Redux/Slice/ProfileSlice/GetDocumentSlice\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { ImagebaseURL } from \"../../../../Security/helpers/axios\";\nimport { WebView } from 'react-native-webview';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialDocuments = [{\n  id: \"1\",\n  title: \"Image\",\n  status: \"No files added\",\n  icon: \"image\",\n  fileUri: null\n}, {\n  id: \"2\",\n  title: \"Voter ID\",\n  status: \"No files added\",\n  icon: \"card-account-details\",\n  fileUri: null\n}, {\n  id: \"3\",\n  title: \"Aadhar\",\n  status: \"No files added\",\n  icon: \"card-account-details\",\n  fileUri: null\n}, {\n  id: \"4\",\n  title: \"Bonafide Certificate\",\n  status: \"No files added\",\n  icon: \"certificate\",\n  fileUri: null\n}, {\n  id: \"5\",\n  title: \"Driving License\",\n  status: \"No files added\",\n  icon: \"car\",\n  fileUri: null\n}, {\n  id: \"6\",\n  title: \"College ID\",\n  status: \"No files added\",\n  icon: \"school\",\n  fileUri: null\n}, {\n  id: \"7\",\n  title: \"Other Documents\",\n  status: \"No files added\",\n  icon: \"file-document\",\n  fileUri: null\n}, {\n  id: \"8\",\n  title: \"Estimates/Invoices including all files\",\n  status: \"No files added\",\n  icon: \"file-multiple\",\n  fileUri: null\n}, {\n  id: \"9\",\n  title: \"Dose 2 Certificate\",\n  status: \"No files added\",\n  icon: \"file-certificate\",\n  fileUri: null\n}];\nconst DocumentItem = ({\n  item,\n  onOpenModal,\n  onToggleDropdown,\n  isDropdownOpen\n}) => {\n  const [showWebView, setShowWebView] = useState(false);\n  const fileExtension = item.fileUri ? item.fileUri.split('.').pop() : '';\n  const fileUrl = item.fileUri ? `${ImagebaseURL}${item.fileUri}` : null;\n  const handleDownload = () => {\n    setShowWebView(true);\n  };\n  const renderContent = () => {\n    switch (fileExtension) {\n      case 'pdf':\n        return _jsxDEV(View, {\n          style: styles.pdfContainer,\n          children: [_jsxDEV(Text, {\n            children: fileUrl ? fileUrl.split('/').pop() : 'No File'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), _jsxDEV(Button, {\n            mode: \"contained\",\n            onPress: handleDownload,\n            children: \"View PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), showWebView && _jsxDEV(WebView, {\n            style: styles.pdfPreview,\n            source: {\n              uri: fileUrl\n            },\n            onError: error => console.error(\"PDF Load Error:\", error),\n            onLoad: () => setShowWebView(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this);\n      case 'jpg':\n      case 'jpeg':\n      case 'png':\n        return _jsxDEV(_Fragment, {\n          children: [_jsxDEV(Text, {\n            children: fileUrl ? fileUrl.split('/').pop() : 'No File'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), _jsxDEV(Image, {\n            source: {\n              uri: fileUrl\n            },\n            style: styles.imagePreview,\n            onError: e => console.error(\"Image Load Error:\", e.nativeEvent.error)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n      default:\n        return _jsxDEV(Text, {\n          children: \"Unsupported file type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return _jsxDEV(Card, {\n    style: styles.card,\n    children: [_jsxDEV(Card.Title, {\n      title: item.title,\n      subtitle: item.fileUri ? \"File added\" : item.status,\n      left: props => _jsxDEV(Avatar.Icon, Object.assign({}, props, {\n        icon: item.icon,\n        style: styles.icon\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this),\n      right: props => _jsxDEV(View, {\n        style: styles.rightSection,\n        children: [_jsxDEV(Button, {\n          mode: \"contained\",\n          onPress: () => onOpenModal(item),\n          style: styles.button,\n          children: item.fileUri ? \"Change\" : \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), _jsxDEV(IconButton, {\n          icon: isDropdownOpen ? \"chevron-up\" : \"chevron-down\",\n          onPress: () => onToggleDropdown(item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), isDropdownOpen && item.fileUri && renderContent()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\nconst MyDocuments = () => {\n  const [documents, setDocuments] = useState(initialDocuments);\n  const [selectedDocument, setSelectedDocument] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [dropdownOpen, setDropdownOpen] = useState(null);\n  const dispatch = useDispatch();\n  const [societyId, setSocietyId] = useState(null);\n  const [blockNumber, setBlockNumber] = useState({});\n  const [flatNumber, setFlatNumber] = useState({});\n  const documentGetted = useSelector(state => state.documentGetted.getdocuments);\n  useEffect(() => {\n    const getSocietyId = async () => {\n      try {\n        const user = await AsyncStorage.getItem(\"user\");\n        const id = JSON.parse(user).societyId;\n        const buildingName = JSON.parse(user).buildingName;\n        const flatNumber = JSON.parse(user).flatNumber;\n        if (id) setSocietyId(id);\n        if (buildingName) setBlockNumber(buildingName);\n        if (flatNumber) setFlatNumber(flatNumber);\n      } catch (error) {\n        console.error(\"Error fetching societyId from AsyncStorage:\", error);\n      }\n    };\n    getSocietyId();\n  }, []);\n  useEffect(() => {\n    if (societyId && blockNumber && flatNumber) {\n      dispatch(fetchDocumentsById({\n        societyId,\n        blockNumber,\n        flatNumber\n      }));\n    }\n  }, [societyId, blockNumber, flatNumber, dispatch]);\n  useEffect(() => {\n    if (documentGetted.length > 0) {\n      const updatedDocuments = initialDocuments.map(doc => {\n        const matchedDoc = documentGetted.find(fetched => fetched.documentTitle === doc.title);\n        return Object.assign({}, doc, {\n          fileUri: matchedDoc ? matchedDoc.pictures : null\n        });\n      });\n      setDocuments(updatedDocuments);\n    }\n  }, [documentGetted]);\n  const handleOpenModal = item => {\n    setSelectedDocument(item);\n    setModalVisible(true);\n  };\n  const handleCloseModal = () => {\n    setModalVisible(false);\n  };\n  const handleDocumentPick = async () => {\n    try {\n      const result = await DocumentPicker.getDocumentAsync({\n        type: [\"application/pdf\", \"application/msword\", \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"],\n        copyToCacheDirectory: true\n      });\n      if (!result.canceled) {\n        const {\n          uri,\n          name,\n          mimeType\n        } = result.assets[0];\n        if (uri) {\n          const formData = new FormData();\n          formData.append(\"societyId\", societyId);\n          formData.append(\"documentTitle\", selectedDocument.title);\n          formData.append(\"blockNumber\", blockNumber);\n          formData.append(\"flatNumber\", flatNumber);\n          formData.append(\"pictures\", {\n            uri,\n            name: name || \"document\",\n            type: mimeType || \"application/octet-stream\"\n          });\n          try {\n            await dispatch(AddDocumentsAsync(formData)).then(response => {\n              handleCloseModal();\n              setDropdownOpen(null);\n              if (response.meta.requestStatus === \"fulfilled\") {\n                dispatch(fetchDocumentsById({\n                  societyId,\n                  blockNumber,\n                  flatNumber\n                }));\n              }\n            }).catch(error => {\n              handleCloseModal();\n              setDropdownOpen(null);\n              console.error(\"Error:\", error);\n            });\n          } catch (error) {\n            console.error(\"Upload Error:\", error);\n          }\n        } else {\n          Alert.alert(\"Error\", \"No file URI found.\");\n        }\n      } else {\n        Alert.alert(\"Cancelled\", \"Document selection was cancelled.\");\n      }\n    } catch (error) {\n      console.error(\"Document picker error:\", error);\n      Alert.alert(\"Error\", \"An error occurred while picking the document.\");\n    }\n  };\n  const handleImagePick = async type => {\n    try {\n      let permissionGranted;\n      if (type === \"camera\") {\n        permissionGranted = await ImagePicker.requestCameraPermissionsAsync();\n      } else {\n        permissionGranted = await ImagePicker.requestMediaLibraryPermissionsAsync();\n      }\n      if (!permissionGranted.granted) {\n        Alert.alert(\"Permission Required\", \"You need to grant permissions to access the camera or gallery.\");\n        return;\n      }\n      const options = {\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        quality: 1\n      };\n      let result;\n      if (type === \"camera\") {\n        result = await ImagePicker.launchCameraAsync(options);\n      } else {\n        result = await ImagePicker.launchImageLibraryAsync(options);\n      }\n      if (!result.canceled) {\n        const uri = result.assets[0]?.uri;\n        if (uri) {\n          const formData = new FormData();\n          formData.append(\"societyId\", societyId);\n          formData.append(\"documentTitle\", selectedDocument.title);\n          formData.append(\"blockNumber\", blockNumber);\n          formData.append(\"flatNumber\", flatNumber);\n          formData.append(\"pictures\", {\n            uri,\n            name: uri.split(\"/\").pop(),\n            type: \"image/jpeg\"\n          });\n          try {\n            await dispatch(AddDocumentsAsync(formData)).then(response => {\n              handleCloseModal();\n              setDropdownOpen(null);\n              if (response.meta.requestStatus === \"fulfilled\") {\n                dispatch(fetchDocumentsById({\n                  societyId,\n                  blockNumber,\n                  flatNumber\n                }));\n              }\n            }).catch(error => {\n              handleCloseModal();\n              setDropdownOpen(null);\n              console.error(\"Error:\", error);\n            });\n          } catch (error) {\n            console.error(\"Upload Error:\", error);\n          }\n        }\n      } else {\n        Alert.alert(\"Cancelled\", \"Image selection was cancelled.\");\n      }\n    } catch (error) {\n      console.error(\"Image picker error:\", error);\n      Alert.alert(\"Error\", \"An error occurred while picking the image.\");\n    }\n  };\n  const toggleDropdown = item => {\n    setDropdownOpen(prevOpen => prevOpen === item.id ? null : item.id);\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(FlatList, {\n      data: documents,\n      renderItem: ({\n        item\n      }) => _jsxDEV(DocumentItem, {\n        item: item,\n        onOpenModal: handleOpenModal,\n        onToggleDropdown: toggleDropdown,\n        isDropdownOpen: dropdownOpen === item.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this),\n      keyExtractor: item => item.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), _jsxDEV(Modal, {\n      visible: modalVisible,\n      onRequestClose: handleCloseModal,\n      animationType: \"slide\",\n      transparent: true,\n      children: _jsxDEV(View, {\n        style: styles.modalContainer,\n        children: _jsxDEV(View, {\n          style: styles.modalContent,\n          children: [_jsxDEV(View, {\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\"\n            },\n            children: [_jsxDEV(Text, {\n              style: styles.modalTitle,\n              children: \"Select an Option\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), _jsxDEV(Icon, {\n              onPress: handleCloseModal,\n              name: \"cancel\",\n              size: 24,\n              color: \"#800336\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), _jsxDEV(List.Item, {\n            title: \"Add Document\",\n            onPress: handleDocumentPick,\n            left: () => _jsxDEV(Icon, {\n              name: \"insert-drive-file\",\n              size: 24,\n              color: \"#800336\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this), _jsxDEV(List.Item, {\n            title: \"Take Photo\",\n            onPress: () => handleImagePick(\"camera\"),\n            left: () => _jsxDEV(Icon, {\n              name: \"photo-camera\",\n              size: 24,\n              color: \"#800336\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), _jsxDEV(List.Item, {\n            title: \"Choose from Library\",\n            onPress: () => handleImagePick(\"library\"),\n            left: () => _jsxDEV(Icon, {\n              name: \"photo-library\",\n              size: 24,\n              color: \"#800336\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 388,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 10\n  },\n  container1: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: 1\n  },\n  listContentContainer: {\n    paddingBottom: 20\n  },\n  card: {\n    marginVertical: 8,\n    backgroundColor: \"white\"\n  },\n  icon: {\n    backgroundColor: \"#F3E1D5\"\n  },\n  button: {\n    marginRight: 10,\n    backgroundColor: \"#800336\"\n  },\n  rightSection: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  imagePreview: {\n    width: \"100%\",\n    height: 500,\n    resizeMode: \"cover\",\n    marginTop: 10\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"rgba(0,0,0,0.5)\"\n  },\n  modalContent: {\n    width: \"80%\",\n    padding: 20,\n    backgroundColor: \"white\",\n    borderRadius: 10\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    marginBottom: 15\n  },\n  closeIcon: {\n    fontSize: 20,\n    fontWeight: 600,\n    color: \"#800336\"\n  },\n  pdfContainer: {\n    padding: 10\n  }\n});\nexport default MyDocuments;","map":{"version":3,"names":["React","useEffect","useState","View","FlatList","StyleSheet","Modal","Image","Alert","Card","Button","Text","Avatar","IconButton","List","ImagePicker","DocumentPicker","Icon","AddDocumentsAsync","useDispatch","useSelector","fetchDocumentsById","AsyncStorage","ImagebaseURL","WebView","jsxDEV","_jsxDEV","Fragment","_Fragment","initialDocuments","id","title","status","icon","fileUri","DocumentItem","item","onOpenModal","onToggleDropdown","isDropdownOpen","showWebView","setShowWebView","fileExtension","split","pop","fileUrl","handleDownload","renderContent","style","styles","pdfContainer","children","fileName","_jsxFileName","lineNumber","columnNumber","mode","onPress","pdfPreview","source","uri","onError","error","console","onLoad","imagePreview","e","nativeEvent","card","Title","subtitle","left","props","Object","assign","right","rightSection","button","MyDocuments","documents","setDocuments","selectedDocument","setSelectedDocument","modalVisible","setModalVisible","dropdownOpen","setDropdownOpen","dispatch","societyId","setSocietyId","blockNumber","setBlockNumber","flatNumber","setFlatNumber","documentGetted","state","getdocuments","getSocietyId","user","getItem","JSON","parse","buildingName","length","updatedDocuments","map","doc","matchedDoc","find","fetched","documentTitle","pictures","handleOpenModal","handleCloseModal","handleDocumentPick","result","getDocumentAsync","type","copyToCacheDirectory","canceled","name","mimeType","assets","formData","FormData","append","then","response","meta","requestStatus","catch","alert","handleImagePick","permissionGranted","requestCameraPermissionsAsync","requestMediaLibraryPermissionsAsync","granted","options","mediaTypes","MediaTypeOptions","Images","quality","launchCameraAsync","launchImageLibraryAsync","toggleDropdown","prevOpen","container","data","renderItem","keyExtractor","visible","onRequestClose","animationType","transparent","modalContainer","modalContent","flexDirection","alignItems","justifyContent","modalTitle","size","color","Item","create","flex","padding","container1","listContentContainer","paddingBottom","marginVertical","backgroundColor","marginRight","width","height","resizeMode","marginTop","borderRadius","fontSize","fontWeight","marginBottom","closeIcon"],"sources":["C:/Users/user/OneDrive/Documents/rn/l/src/panel/User/Navigations/Screens/Profile/MyDocuments.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, FlatList, StyleSheet, Modal, Image, Alert } from \"react-native\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  Text,\r\n  Avatar,\r\n  IconButton,\r\n  List,\r\n} from \"react-native-paper\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport * as DocumentPicker from \"expo-document-picker\";\r\nimport Icon from \"react-native-vector-icons/MaterialIcons\";\r\nimport { AddDocumentsAsync } from \"../../../Redux/Slice/ProfileSlice/DocumentSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchDocumentsById } from \"../../../Redux/Slice/ProfileSlice/GetDocumentSlice\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { ImagebaseURL } from \"../../../../Security/helpers/axios\";\r\nimport { WebView } from 'react-native-webview';\r\nconst initialDocuments = [\r\n  {\r\n    id: \"1\",\r\n    title: \"Image\",\r\n    status: \"No files added\",\r\n    icon: \"image\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"Voter ID\",\r\n    status: \"No files added\",\r\n    icon: \"card-account-details\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"Aadhar\",\r\n    status: \"No files added\",\r\n    icon: \"card-account-details\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"4\",\r\n    title: \"Bonafide Certificate\",\r\n    status: \"No files added\",\r\n    icon: \"certificate\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"5\",\r\n    title: \"Driving License\",\r\n    status: \"No files added\",\r\n    icon: \"car\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"6\",\r\n    title: \"College ID\",\r\n    status: \"No files added\",\r\n    icon: \"school\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"7\",\r\n    title: \"Other Documents\",\r\n    status: \"No files added\",\r\n    icon: \"file-document\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"8\",\r\n    title: \"Estimates/Invoices including all files\",\r\n    status: \"No files added\",\r\n    icon: \"file-multiple\",\r\n    fileUri: null,\r\n  },\r\n  {\r\n    id: \"9\",\r\n    title: \"Dose 2 Certificate\",\r\n    status: \"No files added\",\r\n    icon: \"file-certificate\",\r\n    fileUri: null,\r\n  },\r\n];\r\nconst DocumentItem = ({\r\n  item,\r\n  onOpenModal,\r\n  onToggleDropdown,\r\n  isDropdownOpen,\r\n}) => {\r\n  const [showWebView, setShowWebView] = useState(false); \r\n  const fileExtension = item.fileUri ? item.fileUri.split('.').pop() : '';\r\n  const fileUrl = item.fileUri ? `${ImagebaseURL}${item.fileUri}` : null;\r\n\r\n  const handleDownload = () => {\r\n    setShowWebView(true); // Show WebView when the button is clicked\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (fileExtension) {\r\n      case 'pdf':\r\n        return (\r\n          <View style={styles.pdfContainer}>\r\n            <Text>{fileUrl ? fileUrl.split('/').pop() : 'No File'}</Text>\r\n            <Button mode=\"contained\" onPress={handleDownload}>\r\n              View PDF\r\n            </Button>\r\n            {showWebView && (\r\n              <WebView\r\n                style={styles.pdfPreview}\r\n                source={{ uri: fileUrl }}\r\n                onError={(error) => console.error(\"PDF Load Error:\", error)}\r\n                onLoad={() => setShowWebView(false)} // Optionally hide WebView after loading\r\n              />\r\n            )}\r\n          </View>\r\n        );\r\n      case 'jpg':\r\n      case 'jpeg':\r\n      case 'png':\r\n        return (\r\n          <>\r\n            <Text>{fileUrl ? fileUrl.split('/').pop() : 'No File'}</Text>\r\n            <Image\r\n              source={{ uri: fileUrl }}\r\n              style={styles.imagePreview}\r\n              onError={(e) => console.error(\"Image Load Error:\", e.nativeEvent.error)}\r\n            />\r\n          </>\r\n        );\r\n      default:\r\n        return <Text>Unsupported file type</Text>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card style={styles.card}>\r\n      <Card.Title\r\n        title={item.title}\r\n        subtitle={item.fileUri ? \"File added\" : item.status}\r\n        left={(props) => (\r\n          <Avatar.Icon {...props} icon={item.icon} style={styles.icon} />\r\n        )}\r\n        right={(props) => (\r\n          <View style={styles.rightSection}>\r\n            <Button\r\n              mode=\"contained\"\r\n              onPress={() => onOpenModal(item)}\r\n              style={styles.button}\r\n            >\r\n              {item.fileUri ? \"Change\" : \"Add\"}\r\n            </Button>\r\n            <IconButton\r\n              icon={isDropdownOpen ? \"chevron-up\" : \"chevron-down\"}\r\n              onPress={() => onToggleDropdown(item)}\r\n            />\r\n          </View>\r\n        )}\r\n      />\r\n      {isDropdownOpen && item.fileUri && renderContent()}\r\n    </Card>\r\n  );\r\n};\r\n\r\n// const DocumentItem = ({\r\n//   item,\r\n//   onOpenModal,\r\n//   onToggleDropdown,\r\n//   isDropdownOpen,\r\n// }) => {\r\n//   const imageUrl = item.fileUri ? `${ImagebaseURL}${item.fileUri}` : null;\r\n//   return (\r\n//     <Card style={styles.card}>\r\n//       <Card.Title\r\n//         title={item.title}\r\n//         subtitle={item.fileUri ? \"File added\" : item.status}\r\n//         left={(props) => (\r\n//           <Avatar.Icon {...props} icon={item.icon} style={styles.icon} />\r\n//         )}\r\n//         right={(props) => (\r\n//           <View style={styles.rightSection}>\r\n//             <Button\r\n//               mode=\"contained\"\r\n//               onPress={() => onOpenModal(item)}\r\n//               style={styles.button}\r\n//             >\r\n//               {item.fileUri ? \"Change\" : \"Add\"}\r\n//             </Button>\r\n//             <IconButton\r\n//               icon={isDropdownOpen ? \"chevron-up\" : \"chevron-down\"}\r\n//               onPress={() => onToggleDropdown(item)}\r\n//             />\r\n//           </View>\r\n//         )}\r\n//       />\r\n//       {isDropdownOpen && item.fileUri && (\r\n//         <Image\r\n//           source={{ uri: imageUrl }}\r\n//           style={styles.imagePreview}\r\n//           onError={(e) => {\r\n//             console.error(\"Image Load Error:\", e.nativeEvent.error);\r\n//           }}\r\n//         />\r\n//       )}\r\n//     </Card>\r\n//   );\r\n// };\r\n\r\nconst MyDocuments = () => {\r\n  const [documents, setDocuments] = useState(initialDocuments);\r\n  const [selectedDocument, setSelectedDocument] = useState(null);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [dropdownOpen, setDropdownOpen] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const [societyId, setSocietyId] = useState(null);\r\n  const [blockNumber, setBlockNumber] = useState({});\r\n  const [flatNumber, setFlatNumber] = useState({});\r\n  const documentGetted = useSelector(\r\n    (state) => state.documentGetted.getdocuments\r\n  );\r\n  useEffect(() => {\r\n    const getSocietyId = async () => {\r\n      try {\r\n        const user = await AsyncStorage.getItem(\"user\");\r\n        const id = JSON.parse(user).societyId;\r\n        const buildingName = JSON.parse(user).buildingName;\r\n        const flatNumber = JSON.parse(user).flatNumber;\r\n        if (id) setSocietyId(id);\r\n        if (buildingName) setBlockNumber(buildingName);\r\n        if (flatNumber) setFlatNumber(flatNumber);\r\n      } catch (error) {\r\n        console.error(\"Error fetching societyId from AsyncStorage:\", error);\r\n      }\r\n    };\r\n    getSocietyId();\r\n  }, []);\r\n  useEffect(() => {\r\n    if (societyId && blockNumber && flatNumber) {\r\n      dispatch(fetchDocumentsById({ societyId, blockNumber, flatNumber }));\r\n    }\r\n  }, [societyId, blockNumber, flatNumber, dispatch]);\r\n  useEffect(() => {\r\n    if (documentGetted.length > 0) {\r\n      const updatedDocuments = initialDocuments.map((doc) => {\r\n        const matchedDoc = documentGetted.find(\r\n          (fetched) => fetched.documentTitle === doc.title\r\n        );\r\n        return {\r\n          ...doc,\r\n          fileUri: matchedDoc ? matchedDoc.pictures : null,\r\n        };\r\n      });\r\n      setDocuments(updatedDocuments);\r\n    }\r\n  }, [documentGetted]);\r\n  const handleOpenModal = (item) => {\r\n    setSelectedDocument(item);\r\n    setModalVisible(true);\r\n  };\r\n  const handleCloseModal = () => {\r\n    setModalVisible(false);\r\n  };\r\n  const handleDocumentPick = async () => {\r\n    try {\r\n      const result = await DocumentPicker.getDocumentAsync({\r\n        type: [\r\n          \"application/pdf\",\r\n          \"application/msword\",\r\n          \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n        ],\r\n        copyToCacheDirectory: true,\r\n      });\r\n      if (!result.canceled) {\r\n        const { uri, name, mimeType } = result.assets[0];\r\n        if (uri) {\r\n          const formData = new FormData();\r\n          formData.append(\"societyId\", societyId);\r\n          formData.append(\"documentTitle\", selectedDocument.title);\r\n          formData.append(\"blockNumber\", blockNumber);\r\n          formData.append(\"flatNumber\", flatNumber);\r\n          formData.append(\"pictures\", {\r\n            uri,\r\n            name: name || \"document\",\r\n            type: mimeType || \"application/octet-stream\",\r\n          });\r\n          try {\r\n            await dispatch(AddDocumentsAsync(formData))\r\n              .then((response) => {\r\n                handleCloseModal();\r\n                setDropdownOpen(null);\r\n                if (response.meta.requestStatus === \"fulfilled\") {\r\n                  dispatch(\r\n                    fetchDocumentsById({ societyId, blockNumber, flatNumber })\r\n                  );\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                handleCloseModal();\r\n                setDropdownOpen(null);\r\n                console.error(\"Error:\", error);\r\n              });\r\n          } catch (error) {\r\n            console.error(\"Upload Error:\", error);\r\n          }\r\n        } else {\r\n          Alert.alert(\"Error\", \"No file URI found.\");\r\n        }\r\n      } else {\r\n        Alert.alert(\"Cancelled\", \"Document selection was cancelled.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Document picker error:\", error);\r\n      Alert.alert(\"Error\", \"An error occurred while picking the document.\");\r\n    }\r\n  };\r\n\r\n  const handleImagePick = async (type) => {\r\n    try {\r\n      let permissionGranted;\r\n      if (type === \"camera\") {\r\n        permissionGranted = await ImagePicker.requestCameraPermissionsAsync();\r\n      } else {\r\n        permissionGranted =\r\n          await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n      }\r\n      if (!permissionGranted.granted) {\r\n        Alert.alert(\r\n          \"Permission Required\",\r\n          \"You need to grant permissions to access the camera or gallery.\"\r\n        );\r\n        return;\r\n      }\r\n      const options = {\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        quality: 1,\r\n      };\r\n      let result;\r\n      if (type === \"camera\") {\r\n        result = await ImagePicker.launchCameraAsync(options);\r\n      } else {\r\n        result = await ImagePicker.launchImageLibraryAsync(options);\r\n      }\r\n      if (!result.canceled) {\r\n        const uri = result.assets[0]?.uri;\r\n        if (uri) {\r\n          const formData = new FormData();\r\n          formData.append(\"societyId\", societyId);\r\n          formData.append(\"documentTitle\", selectedDocument.title);\r\n          formData.append(\"blockNumber\", blockNumber);\r\n          formData.append(\"flatNumber\", flatNumber);\r\n          formData.append(\"pictures\", {\r\n            uri,\r\n            name: uri.split(\"/\").pop(),\r\n            type: \"image/jpeg\",\r\n          });\r\n          try {\r\n            await dispatch(AddDocumentsAsync(formData))\r\n              .then((response) => {\r\n                handleCloseModal();\r\n                setDropdownOpen(null);\r\n                if (response.meta.requestStatus === \"fulfilled\") {\r\n                  dispatch(\r\n                    fetchDocumentsById({ societyId, blockNumber, flatNumber })\r\n                  );\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                handleCloseModal();\r\n                setDropdownOpen(null);\r\n                console.error(\"Error:\", error);\r\n              });\r\n          } catch (error) {\r\n            console.error(\"Upload Error:\", error);\r\n          }\r\n        }\r\n      } else {\r\n        Alert.alert(\"Cancelled\", \"Image selection was cancelled.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Image picker error:\", error);\r\n      Alert.alert(\"Error\", \"An error occurred while picking the image.\");\r\n    }\r\n  };\r\n  const toggleDropdown = (item) => {\r\n    setDropdownOpen((prevOpen) => (prevOpen === item.id ? null : item.id));\r\n  };\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        data={documents}\r\n        renderItem={({ item }) => (\r\n          <DocumentItem\r\n            item={item}\r\n            onOpenModal={handleOpenModal}\r\n            onToggleDropdown={toggleDropdown}\r\n            isDropdownOpen={dropdownOpen === item.id}\r\n          />\r\n        )}\r\n        keyExtractor={(item) => item.id}\r\n      />\r\n      <Modal\r\n        visible={modalVisible}\r\n        onRequestClose={handleCloseModal}\r\n        animationType=\"slide\"\r\n        transparent\r\n      >\r\n        <View style={styles.modalContainer}>\r\n          <View style={styles.modalContent}>\r\n            <View\r\n              style={{\r\n                flexDirection: \"row\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"space-between\",\r\n              }}\r\n            >\r\n              <Text style={styles.modalTitle}>Select an Option</Text>\r\n              <Icon\r\n                onPress={handleCloseModal}\r\n                name=\"cancel\"\r\n                size={24}\r\n                color=\"#800336\"\r\n              />\r\n            </View>\r\n            <List.Item\r\n              title=\"Add Document\"\r\n              onPress={handleDocumentPick}\r\n              left={() => (\r\n                <Icon name=\"insert-drive-file\" size={24} color=\"#800336\" />\r\n              )}\r\n            />\r\n            <List.Item\r\n              title=\"Take Photo\"\r\n              onPress={() => handleImagePick(\"camera\")}\r\n              left={() => (\r\n                <Icon name=\"photo-camera\" size={24} color=\"#800336\" />\r\n              )}\r\n            />\r\n            <List.Item\r\n              title=\"Choose from Library\"\r\n              onPress={() => handleImagePick(\"library\")}\r\n              left={() => (\r\n                <Icon name=\"photo-library\" size={24} color=\"#800336\" />\r\n              )}\r\n            />\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n};\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  container1: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: 1,\r\n  },\r\n  listContentContainer: {\r\n    paddingBottom: 20,\r\n  },\r\n  card: {\r\n    marginVertical: 8,\r\n    backgroundColor: \"white\",\r\n  },\r\n  icon: {\r\n    backgroundColor: \"#F3E1D5\",\r\n  },\r\n  button: {\r\n    marginRight: 10,\r\n    backgroundColor: \"#800336\",\r\n  },\r\n  rightSection: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  imagePreview: {\r\n    width: \"100%\",\r\n    height: 500,\r\n    resizeMode: \"cover\",\r\n    marginTop: 10,\r\n  },\r\n  modalContainer: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"rgba(0,0,0,0.5)\",\r\n  },\r\n  modalContent: {\r\n    width: \"80%\",\r\n    padding: 20,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 10,\r\n  },\r\n  modalTitle: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    marginBottom: 15,\r\n  },\r\n  closeIcon: {\r\n    fontSize: 20,\r\n    fontWeight: 600,\r\n    color: \"#800336\",\r\n  },\r\n  pdfContainer: {\r\n    padding: 10,\r\n  },\r\n});\r\nexport default MyDocuments;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}