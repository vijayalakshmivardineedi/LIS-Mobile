{"ast":null,"code":"'use strict';\n\nimport NativeReanimatedModule from './NativeReanimated';\nimport { isWorkletFunction } from './commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport { registerWorkletStackDetails } from './errors';\nimport { jsVersion } from './platform-specific/jsVersion';\nimport { shareableMappingCache, shareableMappingFlag } from './shareableMappingCache';\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\nconst MAGIC_KEY = 'REANIMATED_MAGIC_KEY';\nconst _worklet_8151094367428_init_data = {\n  code: \"function isHostObject_shareablesJs1(value){const{MAGIC_KEY}=this.__closure;return MAGIC_KEY in value;}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isHostObject_shareablesJs1\\\",\\\"value\\\",\\\"MAGIC_KEY\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAeA,SAAAA,0BAA6BA,CAAAC,KAAA,QAAAC,SAAA,OAAAC,SAAA,CAO3B,MAAO,CAAAD,SAAS,GAAI,CAAAD,KAAK,CAC3B\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nconst isHostObject = function () {\n  const _e = [new global.Error(), -2, -27];\n  const isHostObject = function (value) {\n    return MAGIC_KEY in value;\n  };\n  isHostObject.__closure = {\n    MAGIC_KEY\n  };\n  isHostObject.__workletHash = 8151094367428;\n  isHostObject.__initData = _worklet_8151094367428_init_data;\n  isHostObject.__stackDetails = _e;\n  return isHostObject;\n}();\nfunction isPlainJSObject(object) {\n  return Object.getPrototypeOf(object) === Object.prototype;\n}\nconst _worklet_7384406622479_init_data = {\n  code: \"function shareablesJs2(){return new Proxy({},{get:function(_,prop){if(prop==='_isReanimatedSharedValue'||prop==='__remoteFunction'){return false;}throw new Error(\\\"[Reanimated] Trying to access property `\\\"+String(prop)+\\\"` of an object which cannot be sent to the UI runtime.\\\");},set:function(){throw new Error('[Reanimated] Trying to write to an object which cannot be sent to the UI runtime.');}});}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shareablesJs2\\\",\\\"Proxy\\\",\\\"get\\\",\\\"_\\\",\\\"prop\\\",\\\"Error\\\",\\\"String\\\",\\\"set\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAoCU,SAAAA,aAAMA,CAAA,EAGZ,MAAO,IAAI,CAAAC,KAAK,CAAC,CAAC,CAAC,CAAE,CACnBC,GAAG,CAAE,QAAAA,CAACC,CAAC,CAAEC,IAAI,CAAK,CAChB,GAAIA,IAAI,GAAK,0BAA0B,EAAIA,IAAI,GAAK,kBAAkB,CAAE,CAStE,MAAO,MAAK,CACd,CACA,KAAM,IAAI,CAAAC,KAAK,4CAA6CC,MAAM,CAACF,IAAI,CAAC,yDAAyD,CAAC,CACpI,CAAC,CACDG,GAAG,CAAE,QAAAA,CAAA,CAAM,CACT,KAAM,IAAI,CAAAF,KAAK,CAAC,mFAAmF,CAAC,CACtG,CACF,CAAC,CAAC,CACJ\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nconst INACCESSIBLE_OBJECT = {\n  __init: function () {\n    const _e = [new global.Error(), 1, -27];\n    const shareablesJs2 = function () {\n      return new Proxy({}, {\n        get: (_, prop) => {\n          if (prop === '_isReanimatedSharedValue' || prop === '__remoteFunction') {\n            return false;\n          }\n          throw new Error(`[Reanimated] Trying to access property \\`${String(prop)}\\` of an object which cannot be sent to the UI runtime.`);\n        },\n        set: () => {\n          throw new Error('[Reanimated] Trying to write to an object which cannot be sent to the UI runtime.');\n        }\n      });\n    };\n    shareablesJs2.__closure = {};\n    shareablesJs2.__workletHash = 7384406622479;\n    shareablesJs2.__initData = _worklet_7384406622479_init_data;\n    shareablesJs2.__stackDetails = _e;\n    return shareablesJs2;\n  }()\n};\nconst VALID_ARRAY_VIEWS_NAMES = ['Int8Array', 'Uint8Array', 'Uint8ClampedArray', 'Int16Array', 'Uint16Array', 'Int32Array', 'Uint32Array', 'Float32Array', 'Float64Array', 'BigInt64Array', 'BigUint64Array', 'DataView'];\nconst DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD = 30;\nlet processedObjectAtThresholdDepth;\nconst _worklet_7789420377104_init_data = {\n  code: \"function shareablesJs3(){const{workletContextObjectFactory}=this.__closure;return workletContextObjectFactory();}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shareablesJs3\\\",\\\"workletContextObjectFactory\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA8GkB,SAAAA,aAAMA,CAAA,QAAAC,2BAAA,OAAAC,SAAA,CAGZ,MAAO,CAAAD,2BAA2B,CAAC,CAAC,CACtC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nconst _worklet_5975792175190_init_data = {\n  code: \"function shareablesJs4(){const{pattern,flags}=this.__closure;return new RegExp(pattern,flags);}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shareablesJs4\\\",\\\"pattern\\\",\\\"flags\\\",\\\"__closure\\\",\\\"RegExp\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA2JkB,SAAAA,aAAMA,CAAA,QAAAC,OAAA,CAAAC,KAAA,OAAAC,SAAA,CAGZ,MAAO,IAAI,CAAAC,MAAM,CAACH,OAAO,CAAEC,KAAK,CAAC,CACnC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nconst _worklet_14257546745571_init_data = {\n  code: \"function shareablesJs5(){const{name,message,stack}=this.__closure;const error=new Error();error.name=name;error.message=message;error.stack=stack;return error;}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shareablesJs5\\\",\\\"name\\\",\\\"message\\\",\\\"stack\\\",\\\"__closure\\\",\\\"error\\\",\\\"Error\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA0KkB,SAAAA,aAAMA,CAAA,QAAAC,IAAA,CAAAC,OAAA,CAAAC,KAAA,OAAAC,SAAA,CAGZ,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACzBD,KAAK,CAACJ,IAAI,CAAGA,IAAI,CACjBI,KAAK,CAACH,OAAO,CAAGA,OAAO,CACvBG,KAAK,CAACF,KAAK,CAAGA,KAAK,CACnB,MAAO,CAAAE,KAAK,CACd\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nconst _worklet_13095606702372_init_data = {\n  code: \"function shareablesJs6(){const{VALID_ARRAY_VIEWS_NAMES,typeName,buffer}=this.__closure;if(!VALID_ARRAY_VIEWS_NAMES.includes(typeName)){throw new Error(\\\"[Reanimated] Invalid array view name `\\\"+typeName+\\\"`.\\\");}const constructor=global[typeName];if(constructor===undefined){throw new Error(\\\"[Reanimated] Constructor for `\\\"+typeName+\\\"` not found.\\\");}return new constructor(buffer);}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shareablesJs6\\\",\\\"VALID_ARRAY_VIEWS_NAMES\\\",\\\"typeName\\\",\\\"buffer\\\",\\\"__closure\\\",\\\"includes\\\",\\\"Error\\\",\\\"constructor\\\",\\\"global\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA6LkB,SAAAA,aAAMA,CAAA,QAAAC,uBAAA,CAAAC,QAAA,CAAAC,MAAA,OAAAC,SAAA,CAGZ,GAAI,CAACH,uBAAuB,CAACI,QAAQ,CAACH,QAAQ,CAAC,CAAE,CAC/C,KAAM,IAAI,CAAAI,KAAK,0CAA2CJ,QAAQ,KAAK,CAAC,CAC1E,CACA,KAAM,CAAAK,WAAW,CAAGC,MAAM,CAACN,QAAQ,CAAC,CACpC,GAAIK,WAAW,GAAKE,SAAS,CAAE,CAC7B,KAAM,IAAI,CAAAH,KAAK,kCAAmCJ,QAAQ,eAAe,CAAC,CAC5E,CACA,MAAO,IAAI,CAAAK,WAAW,CAACJ,MAAM,CAAC,CAChC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nexport function makeShareableCloneRecursive(value, shouldPersistRemote = false, depth = 0) {\n  if (SHOULD_BE_USE_WEB) {\n    return value;\n  }\n  if (depth >= DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n    if (depth === DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n      processedObjectAtThresholdDepth = value;\n    } else if (value === processedObjectAtThresholdDepth) {\n      throw new Error('[Reanimated] Trying to convert a cyclic object to a shareable. This is not supported.');\n    }\n  } else {\n    processedObjectAtThresholdDepth = undefined;\n  }\n  const type = typeof value;\n  const isTypeObject = type === 'object';\n  const isTypeFunction = type === 'function';\n  if ((isTypeObject || isTypeFunction) && value !== null) {\n    const cached = shareableMappingCache.get(value);\n    if (cached === shareableMappingFlag) {\n      return value;\n    } else if (cached !== undefined) {\n      return cached;\n    } else {\n      let toAdapt;\n      if (Array.isArray(value)) {\n        toAdapt = value.map(element => makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1));\n        freezeObjectIfDev(value);\n      } else if (isTypeFunction && !isWorkletFunction(value)) {\n        toAdapt = value;\n        freezeObjectIfDev(value);\n      } else if (isHostObject(value)) {\n        toAdapt = value;\n      } else if (isPlainJSObject(value) && value.__workletContextObjectFactory) {\n        const workletContextObjectFactory = value.__workletContextObjectFactory;\n        const handle = makeShareableCloneRecursive({\n          __init: function () {\n            const _e = [new global.Error(), -2, -27];\n            const shareablesJs3 = function () {\n              return workletContextObjectFactory();\n            };\n            shareablesJs3.__closure = {\n              workletContextObjectFactory\n            };\n            shareablesJs3.__workletHash = 7789420377104;\n            shareablesJs3.__initData = _worklet_7789420377104_init_data;\n            shareablesJs3.__stackDetails = _e;\n            return shareablesJs3;\n          }()\n        });\n        shareableMappingCache.set(value, handle);\n        return handle;\n      } else if (isPlainJSObject(value) || isTypeFunction) {\n        toAdapt = {};\n        if (isWorkletFunction(value)) {\n          if (__DEV__) {\n            const babelVersion = value.__initData.version;\n            if (babelVersion !== undefined && babelVersion !== jsVersion) {\n              throw new Error(`[Reanimated] Mismatch between JavaScript code version and Reanimated Babel plugin version (${jsVersion} vs. ${babelVersion}).        \nSee \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#mismatch-between-javascript-code-version-and-reanimated-babel-plugin-version\\` for more details.\nOffending code was: \\`${getWorkletCode(value)}\\``);\n            }\n            registerWorkletStackDetails(value.__workletHash, value.__stackDetails);\n          }\n          if (value.__stackDetails) {\n            delete value.__stackDetails;\n          }\n          toAdapt.__initData = makeShareableCloneRecursive(value.__initData, true, depth + 1);\n        }\n        for (const [key, element] of Object.entries(value)) {\n          if (key === '__initData' && toAdapt.__initData !== undefined) {\n            continue;\n          }\n          toAdapt[key] = makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1);\n        }\n        freezeObjectIfDev(value);\n      } else if (value instanceof RegExp) {\n        const pattern = value.source;\n        const flags = value.flags;\n        const handle = makeShareableCloneRecursive({\n          __init: function () {\n            const _e = [new global.Error(), -3, -27];\n            const shareablesJs4 = function () {\n              return new RegExp(pattern, flags);\n            };\n            shareablesJs4.__closure = {\n              pattern,\n              flags\n            };\n            shareablesJs4.__workletHash = 5975792175190;\n            shareablesJs4.__initData = _worklet_5975792175190_init_data;\n            shareablesJs4.__stackDetails = _e;\n            return shareablesJs4;\n          }()\n        });\n        shareableMappingCache.set(value, handle);\n        return handle;\n      } else if (value instanceof Error) {\n        const {\n          name,\n          message,\n          stack\n        } = value;\n        const handle = makeShareableCloneRecursive({\n          __init: function () {\n            const _e = [new global.Error(), -4, -27];\n            const shareablesJs5 = function () {\n              const error = new Error();\n              error.name = name;\n              error.message = message;\n              error.stack = stack;\n              return error;\n            };\n            shareablesJs5.__closure = {\n              name,\n              message,\n              stack\n            };\n            shareablesJs5.__workletHash = 14257546745571;\n            shareablesJs5.__initData = _worklet_14257546745571_init_data;\n            shareablesJs5.__stackDetails = _e;\n            return shareablesJs5;\n          }()\n        });\n        shareableMappingCache.set(value, handle);\n        return handle;\n      } else if (value instanceof ArrayBuffer) {\n        toAdapt = value;\n      } else if (ArrayBuffer.isView(value)) {\n        const buffer = value.buffer;\n        const typeName = value.constructor.name;\n        const handle = makeShareableCloneRecursive({\n          __init: function () {\n            const _e = [new global.Error(), -4, -27];\n            const shareablesJs6 = function () {\n              if (!VALID_ARRAY_VIEWS_NAMES.includes(typeName)) {\n                throw new Error(`[Reanimated] Invalid array view name \\`${typeName}\\`.`);\n              }\n              const constructor = global[typeName];\n              if (constructor === undefined) {\n                throw new Error(`[Reanimated] Constructor for \\`${typeName}\\` not found.`);\n              }\n              return new constructor(buffer);\n            };\n            shareablesJs6.__closure = {\n              VALID_ARRAY_VIEWS_NAMES,\n              typeName,\n              buffer\n            };\n            shareablesJs6.__workletHash = 13095606702372;\n            shareablesJs6.__initData = _worklet_13095606702372_init_data;\n            shareablesJs6.__stackDetails = _e;\n            return shareablesJs6;\n          }()\n        });\n        shareableMappingCache.set(value, handle);\n        return handle;\n      } else {\n        const inaccessibleObject = makeShareableCloneRecursive(INACCESSIBLE_OBJECT);\n        shareableMappingCache.set(value, inaccessibleObject);\n        return inaccessibleObject;\n      }\n      const adapted = NativeReanimatedModule.makeShareableClone(toAdapt, shouldPersistRemote, value);\n      shareableMappingCache.set(value, adapted);\n      shareableMappingCache.set(adapted);\n      return adapted;\n    }\n  }\n  return NativeReanimatedModule.makeShareableClone(value, shouldPersistRemote, undefined);\n}\nconst WORKLET_CODE_THRESHOLD = 255;\nfunction getWorkletCode(value) {\n  var _value$__initData;\n  const code = value === null || value === void 0 || (_value$__initData = value.__initData) === null || _value$__initData === void 0 ? void 0 : _value$__initData.code;\n  if (!code) {\n    return 'unknown';\n  }\n  if (code.length > WORKLET_CODE_THRESHOLD) {\n    return `${code.substring(0, WORKLET_CODE_THRESHOLD)}...`;\n  }\n  return code;\n}\nconst _worklet_8028397523874_init_data = {\n  code: \"function isRemoteFunction_shareablesJs7(value){return!!value.__remoteFunction;}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isRemoteFunction_shareablesJs7\\\",\\\"value\\\",\\\"__remoteFunction\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA8OA,SAAAA,8BAAiCA,CAAAC,KAAA,EAG/B,MAAO,CAAC,CAACA,KAAK,CAACC,gBAAgB,CACjC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nconst isRemoteFunction = function () {\n  const _e = [new global.Error(), 1, -27];\n  const isRemoteFunction = function (value) {\n    return !!value.__remoteFunction;\n  };\n  isRemoteFunction.__closure = {};\n  isRemoteFunction.__workletHash = 8028397523874;\n  isRemoteFunction.__initData = _worklet_8028397523874_init_data;\n  isRemoteFunction.__stackDetails = _e;\n  return isRemoteFunction;\n}();\nfunction freezeObjectIfDev(value) {\n  if (!__DEV__) {\n    return;\n  }\n  Object.entries(value).forEach(([key, element]) => {\n    const descriptor = Object.getOwnPropertyDescriptor(value, key);\n    if (!descriptor.configurable) {\n      return;\n    }\n    Object.defineProperty(value, key, {\n      get() {\n        return element;\n      },\n      set() {\n        console.warn(`[Reanimated] Tried to modify key \\`${key}\\` of an object which has been already passed to a worklet. See \nhttps://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#tried-to-modify-key-of-an-object-which-has-been-converted-to-a-shareable \nfor more details.`);\n      }\n    });\n  });\n  Object.preventExtensions(value);\n}\nconst _worklet_1607325666004_init_data = {\n  code: \"function makeShareableCloneOnUIRecursive_shareablesJs8(value){const{SHOULD_BE_USE_WEB,isHostObject,isRemoteFunction}=this.__closure;if(SHOULD_BE_USE_WEB){return value;}function cloneRecursive(value){if(typeof value==='object'&&value!==null||typeof value==='function'){if(isHostObject(value)){return global._makeShareableClone(value,undefined);}if(isRemoteFunction(value)){return value.__remoteFunction;}if(Array.isArray(value)){return global._makeShareableClone(value.map(cloneRecursive),undefined);}const toAdapt={};for(const[key,element]of Object.entries(value)){toAdapt[key]=cloneRecursive(element);}return global._makeShareableClone(toAdapt,value);}return global._makeShareableClone(value,undefined);}return cloneRecursive(value);}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"makeShareableCloneOnUIRecursive_shareablesJs8\\\",\\\"value\\\",\\\"SHOULD_BE_USE_WEB\\\",\\\"isHostObject\\\",\\\"isRemoteFunction\\\",\\\"__closure\\\",\\\"cloneRecursive\\\",\\\"global\\\",\\\"_makeShareableClone\\\",\\\"undefined\\\",\\\"__remoteFunction\\\",\\\"Array\\\",\\\"isArray\\\",\\\"map\\\",\\\"toAdapt\\\",\\\"key\\\",\\\"element\\\",\\\"Object\\\",\\\"entries\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAuRO,SAAAA,6CAAgDA,CAAAC,KAAA,QAAAC,iBAAA,CAAAC,YAAA,CAAAC,gBAAA,OAAAC,SAAA,CAGrD,GAAIH,iBAAiB,CAAE,CAGrB,MAAO,CAAAD,KAAK,CACd,CAEA,QAAS,CAAAK,cAAcA,CAACL,KAAK,CAAE,CAC7B,GAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,EAAIA,KAAK,GAAK,IAAI,EAAI,MAAO,CAAAA,KAAK,GAAK,UAAU,CAAE,CAC9E,GAAIE,YAAY,CAACF,KAAK,CAAC,CAAE,CAGvB,MAAO,CAAAM,MAAM,CAACC,mBAAmB,CAACP,KAAK,CAAEQ,SAAS,CAAC,CACrD,CACA,GAAIL,gBAAgB,CAACH,KAAK,CAAC,CAAE,CAI3B,MAAO,CAAAA,KAAK,CAACS,gBAAgB,CAC/B,CACA,GAAIC,KAAK,CAACC,OAAO,CAACX,KAAK,CAAC,CAAE,CACxB,MAAO,CAAAM,MAAM,CAACC,mBAAmB,CAACP,KAAK,CAACY,GAAG,CAACP,cAAc,CAAC,CAAEG,SAAS,CAAC,CACzE,CACA,KAAM,CAAAK,OAAO,CAAG,CAAC,CAAC,CAClB,IAAK,KAAM,CAACC,GAAG,CAAEC,OAAO,CAAC,EAAI,CAAAC,MAAM,CAACC,OAAO,CAACjB,KAAK,CAAC,CAAE,CAClDa,OAAO,CAACC,GAAG,CAAC,CAAGT,cAAc,CAACU,OAAO,CAAC,CACxC,CACA,MAAO,CAAAT,MAAM,CAACC,mBAAmB,CAACM,OAAO,CAAEb,KAAK,CAAC,CACnD,CACA,MAAO,CAAAM,MAAM,CAACC,mBAAmB,CAACP,KAAK,CAAEQ,SAAS,CAAC,CACrD,CACA,MAAO,CAAAH,cAAc,CAACL,KAAK,CAAC,CAC9B\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nexport const makeShareableCloneOnUIRecursive = function () {\n  const _e = [new global.Error(), -4, -27];\n  const makeShareableCloneOnUIRecursive = function (value) {\n    if (SHOULD_BE_USE_WEB) {\n      return value;\n    }\n    function cloneRecursive(value) {\n      if (typeof value === 'object' && value !== null || typeof value === 'function') {\n        if (isHostObject(value)) {\n          return global._makeShareableClone(value, undefined);\n        }\n        if (isRemoteFunction(value)) {\n          return value.__remoteFunction;\n        }\n        if (Array.isArray(value)) {\n          return global._makeShareableClone(value.map(cloneRecursive), undefined);\n        }\n        const toAdapt = {};\n        for (const [key, element] of Object.entries(value)) {\n          toAdapt[key] = cloneRecursive(element);\n        }\n        return global._makeShareableClone(toAdapt, value);\n      }\n      return global._makeShareableClone(value, undefined);\n    }\n    return cloneRecursive(value);\n  };\n  makeShareableCloneOnUIRecursive.__closure = {\n    SHOULD_BE_USE_WEB,\n    isHostObject,\n    isRemoteFunction\n  };\n  makeShareableCloneOnUIRecursive.__workletHash = 1607325666004;\n  makeShareableCloneOnUIRecursive.__initData = _worklet_1607325666004_init_data;\n  makeShareableCloneOnUIRecursive.__stackDetails = _e;\n  return makeShareableCloneOnUIRecursive;\n}();\nfunction makeShareableJS(value) {\n  return value;\n}\nconst _worklet_4058688871355_init_data = {\n  code: \"function shareablesJs9(){const{value}=this.__closure;return value;}\",\n  location: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shareablesJs9\\\",\\\"value\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"C:/Users/user/OneDrive/Documents/rn/l/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAkUY,SAAAA,aAAMA,CAAA,QAAAC,KAAA,OAAAC,SAAA,CAGZ,MAAO,CAAAD,KAAK,CACd\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.15.1\"\n};\nfunction makeShareableNative(value) {\n  if (shareableMappingCache.get(value)) {\n    return value;\n  }\n  const handle = makeShareableCloneRecursive({\n    __init: function () {\n      const _e = [new global.Error(), -2, -27];\n      const shareablesJs9 = function () {\n        return value;\n      };\n      shareablesJs9.__closure = {\n        value\n      };\n      shareablesJs9.__workletHash = 4058688871355;\n      shareablesJs9.__initData = _worklet_4058688871355_init_data;\n      shareablesJs9.__stackDetails = _e;\n      return shareablesJs9;\n    }()\n  });\n  shareableMappingCache.set(value, handle);\n  return value;\n}\nexport const makeShareable = SHOULD_BE_USE_WEB ? makeShareableJS : makeShareableNative;","map":{"version":3,"names":["NativeReanimatedModule","isWorkletFunction","shouldBeUseWeb","registerWorkletStackDetails","jsVersion","shareableMappingCache","shareableMappingFlag","SHOULD_BE_USE_WEB","MAGIC_KEY","_worklet_8151094367428_init_data","code","location","sourceMap","version","isHostObject","_e","global","Error","value","__closure","__workletHash","__initData","__stackDetails","isPlainJSObject","object","Object","getPrototypeOf","prototype","_worklet_7384406622479_init_data","INACCESSIBLE_OBJECT","__init","shareablesJs2","Proxy","get","_","prop","String","set","VALID_ARRAY_VIEWS_NAMES","DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD","processedObjectAtThresholdDepth","_worklet_7789420377104_init_data","_worklet_5975792175190_init_data","_worklet_14257546745571_init_data","_worklet_13095606702372_init_data","makeShareableCloneRecursive","shouldPersistRemote","depth","undefined","type","isTypeObject","isTypeFunction","cached","toAdapt","Array","isArray","map","element","freezeObjectIfDev","__workletContextObjectFactory","workletContextObjectFactory","handle","shareablesJs3","__DEV__","babelVersion","getWorkletCode","key","entries","RegExp","pattern","source","flags","shareablesJs4","name","message","stack","shareablesJs5","error","ArrayBuffer","isView","buffer","typeName","constructor","shareablesJs6","includes","inaccessibleObject","adapted","makeShareableClone","WORKLET_CODE_THRESHOLD","_value$__initData","length","substring","_worklet_8028397523874_init_data","isRemoteFunction","__remoteFunction","forEach","descriptor","getOwnPropertyDescriptor","configurable","defineProperty","console","warn","preventExtensions","_worklet_1607325666004_init_data","makeShareableCloneOnUIRecursive","cloneRecursive","_makeShareableClone","makeShareableJS","_worklet_4058688871355_init_data","makeShareableNative","shareablesJs9","makeShareable"],"sources":["C:\\Users\\user\\OneDrive\\Documents\\rn\\l\\node_modules\\react-native-reanimated\\lib\\module\\shareables.ts"],"sourcesContent":["'use strict';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { isWorkletFunction } from './commonTypes';\nimport type {\n  ShareableRef,\n  FlatShareableRef,\n  WorkletFunction,\n} from './commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport { registerWorkletStackDetails } from './errors';\nimport { jsVersion } from './platform-specific/jsVersion';\nimport {\n  shareableMappingCache,\n  shareableMappingFlag,\n} from './shareableMappingCache';\n\n// for web/chrome debugger/jest environments this file provides a stub implementation\n// where no shareable references are used. Instead, the objects themselves are used\n// instead of shareable references, because of the fact that we don't have to deal with\n// running the code on separate VMs.\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nconst MAGIC_KEY = 'REANIMATED_MAGIC_KEY';\n\nfunction isHostObject(value: NonNullable<object>) {\n  'worklet';\n  // We could use JSI to determine whether an object is a host object, however\n  // the below workaround works well and is way faster than an additional JSI call.\n  // We use the fact that host objects have broken implementation of `hasOwnProperty`\n  // and hence return true for all `in` checks regardless of the key we ask for.\n  return MAGIC_KEY in value;\n}\n\nfunction isPlainJSObject(object: object) {\n  return Object.getPrototypeOf(object) === Object.prototype;\n}\n\n// The below object is used as a replacement for objects that cannot be transferred\n// as shareable values. In makeShareableCloneRecursive we detect if an object is of\n// a plain Object.prototype and only allow such objects to be transferred. This lets\n// us avoid all sorts of react internals from leaking into the UI runtime. To make it\n// possible to catch errors when someone actually tries to access such object on the UI\n// runtime, we use the below Proxy object which is instantiated on the UI runtime and\n// throws whenever someone tries to access its fields.\nconst INACCESSIBLE_OBJECT = {\n  __init: () => {\n    'worklet';\n    return new Proxy(\n      {},\n      {\n        get: (_: unknown, prop: string | symbol) => {\n          if (\n            prop === '_isReanimatedSharedValue' ||\n            prop === '__remoteFunction'\n          ) {\n            // not very happy about this check here, but we need to allow for\n            // \"inaccessible\" objects to be tested with isSharedValue check\n            // as it is being used in the mappers when extracting inputs recursively\n            // as well as with isRemoteFunction when cloning objects recursively.\n            // Apparently we can't check if a key exists there as HostObjects always\n            // return true for such tests, so the only possibility for us is to\n            // actually access that key and see if it is set to true. We therefore\n            // need to allow for this key to be accessed here.\n            return false;\n          }\n          throw new Error(\n            `[Reanimated] Trying to access property \\`${String(\n              prop\n            )}\\` of an object which cannot be sent to the UI runtime.`\n          );\n        },\n        set: () => {\n          throw new Error(\n            '[Reanimated] Trying to write to an object which cannot be sent to the UI runtime.'\n          );\n        },\n      }\n    );\n  },\n};\n\nconst VALID_ARRAY_VIEWS_NAMES = [\n  'Int8Array',\n  'Uint8Array',\n  'Uint8ClampedArray',\n  'Int16Array',\n  'Uint16Array',\n  'Int32Array',\n  'Uint32Array',\n  'Float32Array',\n  'Float64Array',\n  'BigInt64Array',\n  'BigUint64Array',\n  'DataView',\n];\n\nconst DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD = 30;\n// Below variable stores object that we process in makeShareableCloneRecursive at the specified depth.\n// We use it to check if later on the function reenters with the same object\nlet processedObjectAtThresholdDepth: unknown;\n\nexport function makeShareableCloneRecursive<T>(\n  value: any,\n  shouldPersistRemote = false,\n  depth = 0\n): ShareableRef<T> {\n  if (SHOULD_BE_USE_WEB) {\n    return value;\n  }\n  if (depth >= DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n    // if we reach certain recursion depth we suspect that we are dealing with a cyclic object.\n    // this type of objects are not supported and cannot be transferred as shareable, so we\n    // implement a simple detection mechanism that remembers the value at a given depth and\n    // tests whether we try reenter this method later on with the same value. If that happens\n    // we throw an appropriate error.\n    if (depth === DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n      processedObjectAtThresholdDepth = value;\n    } else if (value === processedObjectAtThresholdDepth) {\n      throw new Error(\n        '[Reanimated] Trying to convert a cyclic object to a shareable. This is not supported.'\n      );\n    }\n  } else {\n    processedObjectAtThresholdDepth = undefined;\n  }\n  // This one actually may be worth to be moved to c++, we also need similar logic to run on the UI thread\n  const type = typeof value;\n  const isTypeObject = type === 'object';\n  const isTypeFunction = type === 'function';\n  if ((isTypeObject || isTypeFunction) && value !== null) {\n    const cached = shareableMappingCache.get(value);\n    if (cached === shareableMappingFlag) {\n      return value;\n    } else if (cached !== undefined) {\n      return cached as ShareableRef<T>;\n    } else {\n      let toAdapt: any;\n      if (Array.isArray(value)) {\n        toAdapt = value.map((element) =>\n          makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1)\n        );\n        freezeObjectIfDev(value);\n      } else if (isTypeFunction && !isWorkletFunction(value)) {\n        // this is a remote function\n        toAdapt = value;\n        freezeObjectIfDev(value);\n      } else if (isHostObject(value)) {\n        // for host objects we pass the reference to the object as shareable and\n        // then recreate new host object wrapping the same instance on the UI thread.\n        // there is no point of iterating over keys as we do for regular objects.\n        toAdapt = value;\n      } else if (\n        isPlainJSObject(value) &&\n        value.__workletContextObjectFactory\n      ) {\n        const workletContextObjectFactory = value.__workletContextObjectFactory;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            return workletContextObjectFactory();\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else if (isPlainJSObject(value) || isTypeFunction) {\n        toAdapt = {};\n        if (isWorkletFunction(value)) {\n          if (__DEV__) {\n            const babelVersion = value.__initData.version;\n            if (babelVersion !== undefined && babelVersion !== jsVersion) {\n              throw new Error(`[Reanimated] Mismatch between JavaScript code version and Reanimated Babel plugin version (${jsVersion} vs. ${babelVersion}).        \nSee \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#mismatch-between-javascript-code-version-and-reanimated-babel-plugin-version\\` for more details.\nOffending code was: \\`${getWorkletCode(value)}\\``);\n            }\n            registerWorkletStackDetails(\n              value.__workletHash,\n              value.__stackDetails!\n            );\n          }\n          if (value.__stackDetails) {\n            // `Error` type of value cannot be copied to the UI thread, so we\n            // remove it after we handled it in dev mode or delete it to ignore it in production mode.\n            // Not removing this would cause an infinite loop in production mode and it just\n            // seems more elegant to handle it this way.\n            delete value.__stackDetails;\n          }\n          // to save on transferring static __initData field of worklet structure\n          // we request shareable value to persist its UI counterpart. This means\n          // that the __initData field that contains long strings representing the\n          // worklet code, source map, and location, will always be\n          // serialized/deserialized once.\n          toAdapt.__initData = makeShareableCloneRecursive(\n            value.__initData,\n            true,\n            depth + 1\n          );\n        }\n\n        for (const [key, element] of Object.entries(value)) {\n          if (key === '__initData' && toAdapt.__initData !== undefined) {\n            continue;\n          }\n          toAdapt[key] = makeShareableCloneRecursive(\n            element,\n            shouldPersistRemote,\n            depth + 1\n          );\n        }\n        freezeObjectIfDev(value);\n      } else if (value instanceof RegExp) {\n        const pattern = value.source;\n        const flags = value.flags;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            return new RegExp(pattern, flags);\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else if (value instanceof Error) {\n        const { name, message, stack } = value;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            const error = new Error();\n            error.name = name;\n            error.message = message;\n            error.stack = stack;\n            return error;\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else if (value instanceof ArrayBuffer) {\n        toAdapt = value;\n      } else if (ArrayBuffer.isView(value)) {\n        // typed array (e.g. Int32Array, Uint8ClampedArray) or DataView\n        const buffer = value.buffer;\n        const typeName = value.constructor.name;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            if (!VALID_ARRAY_VIEWS_NAMES.includes(typeName)) {\n              throw new Error(\n                `[Reanimated] Invalid array view name \\`${typeName}\\`.`\n              );\n            }\n            const constructor = global[typeName as keyof typeof global];\n            if (constructor === undefined) {\n              throw new Error(\n                `[Reanimated] Constructor for \\`${typeName}\\` not found.`\n              );\n            }\n            return new constructor(buffer);\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else {\n        // This is reached for object types that are not of plain Object.prototype.\n        // We don't support such objects from being transferred as shareables to\n        // the UI runtime and hence we replace them with \"inaccessible object\"\n        // which is implemented as a Proxy object that throws on any attempt\n        // of accessing its fields. We argue that such objects can sometimes leak\n        // as attributes of objects being captured by worklets but should never\n        // be used on the UI runtime regardless. If they are being accessed, the user\n        // will get an appropriate error message.\n        const inaccessibleObject =\n          makeShareableCloneRecursive<T>(INACCESSIBLE_OBJECT);\n        shareableMappingCache.set(value, inaccessibleObject);\n        return inaccessibleObject;\n      }\n      const adapted = NativeReanimatedModule.makeShareableClone(\n        toAdapt,\n        shouldPersistRemote,\n        value\n      );\n      shareableMappingCache.set(value, adapted);\n      shareableMappingCache.set(adapted);\n      return adapted;\n    }\n  }\n  return NativeReanimatedModule.makeShareableClone(\n    value,\n    shouldPersistRemote,\n    undefined\n  );\n}\n\nconst WORKLET_CODE_THRESHOLD = 255;\n\nfunction getWorkletCode(value: WorkletFunction) {\n  // @ts-ignore this is fine\n  const code = value?.__initData?.code;\n  if (!code) {\n    return 'unknown';\n  }\n  if (code.length > WORKLET_CODE_THRESHOLD) {\n    return `${code.substring(0, WORKLET_CODE_THRESHOLD)}...`;\n  }\n  return code;\n}\n\ntype RemoteFunction<T> = {\n  __remoteFunction: FlatShareableRef<T>;\n};\n\nfunction isRemoteFunction<T>(value: {\n  __remoteFunction?: unknown;\n}): value is RemoteFunction<T> {\n  'worklet';\n  return !!value.__remoteFunction;\n}\n\n/**\n * We freeze\n * - arrays,\n * - remote functions,\n * - plain JS objects,\n *\n * that are transformed to a shareable with a meaningful warning.\n * This should help detect issues when someone modifies data after it's been converted.\n * Meaning that they may be doing a faulty assumption in their\n * code expecting that the updates are going to automatically propagate to\n * the object sent to the UI thread. If the user really wants some objects\n * to be mutable they should use shared values instead.\n */\nfunction freezeObjectIfDev<T extends object>(value: T) {\n  if (!__DEV__) {\n    return;\n  }\n  Object.entries(value).forEach(([key, element]) => {\n    const descriptor = Object.getOwnPropertyDescriptor(value, key)!;\n    if (!descriptor.configurable) {\n      return;\n    }\n    Object.defineProperty(value, key, {\n      get() {\n        return element;\n      },\n      set() {\n        console.warn(\n          `[Reanimated] Tried to modify key \\`${key}\\` of an object which has been already passed to a worklet. See \nhttps://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#tried-to-modify-key-of-an-object-which-has-been-converted-to-a-shareable \nfor more details.`\n        );\n      },\n    });\n  });\n  Object.preventExtensions(value);\n}\n\nexport function makeShareableCloneOnUIRecursive<T>(\n  value: T\n): FlatShareableRef<T> {\n  'worklet';\n  if (SHOULD_BE_USE_WEB) {\n    // @ts-ignore web is an interesting place where we don't run a secondary VM on the UI thread\n    // see more details in the comment where USE_STUB_IMPLEMENTATION is defined.\n    return value;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function cloneRecursive(value: T): FlatShareableRef<T> {\n    if (\n      (typeof value === 'object' && value !== null) ||\n      typeof value === 'function'\n    ) {\n      if (isHostObject(value)) {\n        // We call `_makeShareableClone` to wrap the provided HostObject\n        // inside ShareableJSRef.\n        return global._makeShareableClone(\n          value,\n          undefined\n        ) as FlatShareableRef<T>;\n      }\n      if (isRemoteFunction<T>(value)) {\n        // RemoteFunctions are created by us therefore they are\n        // a Shareable out of the box and there is no need to\n        // call `_makeShareableClone`.\n        return value.__remoteFunction;\n      }\n      if (Array.isArray(value)) {\n        return global._makeShareableClone(\n          value.map(cloneRecursive),\n          undefined\n        ) as FlatShareableRef<T>;\n      }\n      const toAdapt: Record<string, FlatShareableRef<T>> = {};\n      for (const [key, element] of Object.entries(value)) {\n        toAdapt[key] = cloneRecursive(element);\n      }\n      return global._makeShareableClone(toAdapt, value) as FlatShareableRef<T>;\n    }\n    return global._makeShareableClone(value, undefined);\n  }\n  return cloneRecursive(value);\n}\n\nfunction makeShareableJS<T extends object>(value: T): T {\n  return value;\n}\n\nfunction makeShareableNative<T extends object>(value: T): T {\n  if (shareableMappingCache.get(value)) {\n    return value;\n  }\n  const handle = makeShareableCloneRecursive({\n    __init: () => {\n      'worklet';\n      return value;\n    },\n  });\n  shareableMappingCache.set(value, handle);\n  return value;\n}\n\n/**\n * This function creates a value on UI with persistent state - changes to it on the UI\n * thread will be seen by all worklets. Use it when you want to create a value\n * that is read and written only on the UI thread.\n */\nexport const makeShareable = SHOULD_BE_USE_WEB\n  ? makeShareableJS\n  : makeShareableNative;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}