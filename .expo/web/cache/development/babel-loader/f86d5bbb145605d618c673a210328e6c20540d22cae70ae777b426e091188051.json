{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Documents\\\\rn\\\\l\\\\src\\\\panel\\\\User\\\\Navigations\\\\Screens\\\\Profile\\\\MyBookings.js\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { fetchAmenityBookings } from \"../../../Redux/Slice/ProfileSlice/MyBookingSlice\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyBookings = () => {\n  const dispatch = useDispatch();\n  const [userId, setUserId] = useState(\"\");\n  const [societyId, setSocietyId] = useState(\"\");\n  const {\n    bookings\n  } = useSelector(state => state.myBookings.bookings);\n  useEffect(() => {\n    const getUserName = async () => {\n      try {\n        const userString = await AsyncStorage.getItem(\"user\");\n        if (userString !== null) {\n          const user = JSON.parse(userString);\n          setUserId(user.userId);\n          setSocietyId(user.societyId);\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch the user from async storage\", error);\n      }\n    };\n    getUserName();\n  }, []);\n  useEffect(() => {\n    if (societyId && userId) {\n      dispatch(fetchAmenityBookings({\n        id: societyId,\n        userId\n      }));\n    }\n  }, [dispatch, societyId, userId]);\n  console.log(bookings);\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: bookings && bookings.length > 0 ? bookings.map(booking => _jsxDEV(View, {\n      style: styles.card,\n      children: [_jsxDEV(View, {\n        style: styles.statusChip,\n        children: _jsxDEV(Text, {\n          style: styles.statusText,\n          children: booking.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 25\n      }, this), _jsxDEV(Text, {\n        style: styles.title,\n        children: booking.eventName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }, this), _jsxDEV(Text, {\n        children: [\"bookedDate: \", booking.bookedDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }, this), _jsxDEV(Text, {\n        children: [\"dateOfBooking: \", booking.dateOfBooking]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this), _jsxDEV(Text, {\n        children: [\"payed: \", booking.payed]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }, this), booking.pending === 0 && _jsxDEV(_Fragment, {\n        children: [_jsxDEV(Text, {\n          children: [\"pending: \", booking.pending]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 33\n        }, this), booking.paymentDetails && _jsxDEV(Text, {\n          children: [\"Total amount: \", booking.paymentDetails.amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true)]\n    }, booking._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }, this)) : _jsxDEV(Text, {\n      children: \"No bookings found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: \"#f0f0f0\"\n  },\n  card: {\n    padding: 16,\n    marginBottom: 16,\n    backgroundColor: \"#fff\",\n    borderRadius: 8,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 4,\n    elevation: 3,\n    position: \"relative\"\n  },\n  statusChip: {\n    position: \"absolute\",\n    top: 10,\n    right: 10,\n    backgroundColor: \"#4caf50\",\n    paddingVertical: 4,\n    paddingHorizontal: 8,\n    borderRadius: 12\n  },\n  statusText: {\n    color: \"#fff\",\n    fontSize: 12,\n    fontWeight: \"bold\"\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    marginBottom: 8\n  }\n});\nexport default MyBookings;","map":{"version":3,"names":["React","useEffect","useState","View","Text","StyleSheet","useDispatch","useSelector","AsyncStorage","fetchAmenityBookings","jsxDEV","_jsxDEV","Fragment","_Fragment","MyBookings","dispatch","userId","setUserId","societyId","setSocietyId","bookings","state","myBookings","getUserName","userString","getItem","user","JSON","parse","error","console","id","log","style","styles","container","children","length","map","booking","card","statusChip","statusText","status","fileName","_jsxFileName","lineNumber","columnNumber","title","eventName","bookedDate","dateOfBooking","payed","pending","paymentDetails","amount","_id","create","flex","padding","backgroundColor","marginBottom","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","position","top","right","paddingVertical","paddingHorizontal","color","fontSize","fontWeight"],"sources":["C:/Users/user/OneDrive/Documents/rn/l/src/panel/User/Navigations/Screens/Profile/MyBookings.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, Text, StyleSheet } from \"react-native\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { fetchAmenityBookings } from \"../../../Redux/Slice/ProfileSlice/MyBookingSlice\";\r\n\r\nconst MyBookings = () => {\r\n    const dispatch = useDispatch();\r\n    const [userId, setUserId] = useState(\"\");\r\n    const [societyId, setSocietyId] = useState(\"\");\r\n    const { bookings } = useSelector((state) => state.myBookings.bookings);\r\n\r\n    useEffect(() => {\r\n        const getUserName = async () => {\r\n            try {\r\n                const userString = await AsyncStorage.getItem(\"user\");\r\n                if (userString !== null) {\r\n                    const user = JSON.parse(userString);\r\n                    setUserId(user.userId);\r\n                    setSocietyId(user.societyId);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch the user from async storage\", error);\r\n            }\r\n        };\r\n\r\n        getUserName();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (societyId && userId) {\r\n            dispatch(fetchAmenityBookings({ id: societyId, userId }));\r\n        }\r\n    }, [dispatch, societyId, userId]);\r\n    console.log(bookings)\r\n    return (\r\n        <View style={styles.container}>\r\n            {bookings && bookings.length > 0 ? (\r\n                bookings.map((booking) => (\r\n                    <View key={booking._id} style={styles.card}>\r\n                        {/* Status Chip */}\r\n                        <View style={styles.statusChip}>\r\n                            <Text style={styles.statusText}>{booking.status}</Text>\r\n                        </View>\r\n\r\n                        <Text style={styles.title}>{booking.eventName}</Text>\r\n                        <Text>bookedDate: {booking.bookedDate}</Text>\r\n                        <Text>dateOfBooking: {booking.dateOfBooking}</Text>\r\n                        <Text>payed: {booking.payed}</Text>\r\n                        {booking.pending === 0 && (\r\n                            <>\r\n                                <Text>pending: {booking.pending}</Text>\r\n                                {booking.paymentDetails && (\r\n                                    <Text>Total amount: {booking.paymentDetails.amount}</Text>\r\n                                )}\r\n                            </>\r\n                        )}\r\n                    </View>\r\n                ))\r\n            ) : (\r\n                <Text>No bookings found</Text>\r\n            )}\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        padding: 16,\r\n        backgroundColor: \"#f0f0f0\",\r\n    },\r\n    card: {\r\n        padding: 16,\r\n        marginBottom: 16,\r\n        backgroundColor: \"#fff\",\r\n        borderRadius: 8,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowOpacity: 0.2,\r\n        shadowRadius: 4,\r\n        elevation: 3,\r\n        position: \"relative\", // To enable absolute positioning inside\r\n    },\r\n    statusChip: {\r\n        position: \"absolute\",\r\n        top: 10,\r\n        right: 10,\r\n        backgroundColor: \"#4caf50\", // Green color for approved, change as needed\r\n        paddingVertical: 4,\r\n        paddingHorizontal: 8,\r\n        borderRadius: 12,\r\n    },\r\n    statusText: {\r\n        color: \"#fff\",\r\n        fontSize: 12,\r\n        fontWeight: \"bold\",\r\n    },\r\n    title: {\r\n        fontSize: 18,\r\n        fontWeight: \"bold\",\r\n        marginBottom: 8,\r\n    },\r\n});\r\n\r\nexport default MyBookings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}